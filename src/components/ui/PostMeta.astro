---
import FormattedDate from '../FormattedDate.astro';

interface Props {
	pubDate: Date;
	updatedDate?: Date;
	author?: string;
	readingTime?: string;
	class?: string;
	showAuthor?: boolean;
	showReadingTime?: boolean;
	showUpdatedDate?: boolean;
}

const { 
	pubDate, 
	updatedDate, 
	author, 
	readingTime, 
	class: className = '',
	showAuthor = false,
	showReadingTime = false,
	showUpdatedDate = true
} = Astro.props;
---

<div class:list={['post-meta', className]}>
	{showAuthor && author && (
		<span class="author">By {author}</span>
	)}
	<time datetime={pubDate.toISOString()} class="pub-date">
		<FormattedDate date={pubDate} />
	</time>
	{showReadingTime && readingTime && (
		<span class="reading-time">{readingTime}</span>
	)}
	{showUpdatedDate && updatedDate && (
		<span class="updated-date">
			Updated <FormattedDate date={updatedDate} />
		</span>
	)}
</div>

<style>
	.post-meta {
		display: flex;
		flex-wrap: wrap;
		gap: var(--spacing-sm);
		justify-content: center;
		align-items: center;
		margin-top: var(--spacing);
		font-size: var(--font-size-sm);
		color: var(--color-text);
		opacity: 0.9;
	}
	
	.post-meta > * {
		padding: var(--spacing-xs) var(--spacing-sm);
		background: var(--color-bg-secondary);
		border-radius: var(--border-radius-md);
		font-size: var(--font-size-sm);
		border: 1px solid var(--color-border-light);
		transition: all var(--transition-fast);
		font-weight: var(--font-weight-medium);
		letter-spacing: var(--letter-spacing-wide);
		text-transform: uppercase;
	}
	
	.post-meta > *:hover {
		background: var(--color-bg-tertiary);
		transform: translateY(-1px);
		box-shadow: var(--shadow-sm);
		border-color: var(--color-primary);
	}
	
	.author,
	.pub-date {
		font-weight: var(--font-weight-semibold);
	}
	
	.reading-time,
	.updated-date {
		font-style: italic;
		opacity: 0.8;
	}
	
	.updated-date {
		opacity: 0.7;
	}
	
	/* Responsive adjustments */
	@media (max-width: 768px) {
		.post-meta {
			flex-direction: column;
			gap: var(--spacing-sm);
		}
		
		.post-meta > * {
			width: 100%;
			text-align: center;
		}
	}
</style>
